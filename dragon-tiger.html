<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dragon Tiger</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
/* ===== ORIGINAL CSS â€“ NOT TOUCHED ===== */
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:radial-gradient(circle at top,#0b1c2d,#030b14);
  color:#fff;
}
.game-header{
  background:linear-gradient(180deg,#2b1c3a,#1a1025);
  padding:14px 10px 10px;
}
.header-arena{display:flex;justify-content:space-between;align-items:center;}
.header-arena img{height:80px;}
.center-cards{display:flex;gap:10px;align-items:center;}
.play-card{
  width:46px;height:62px;border-radius:8px;
  background:linear-gradient(135deg,#ffb85c,#ff8c1a);
  display:flex;align-items:center;justify-content:center;
  font-weight:bold;
  transition:0.4s;
}
.vs-text{font-size:20px;color:#ffd56a;font-weight:bold;}
.bet-btn{
  margin:10px auto;
  width:180px;
  text-align:center;
  padding:8px;
  border-radius:20px;
  background:linear-gradient(135deg,#ffcf6a,#ff9f1a);
  color:#000;
  font-weight:bold;
}
.table-wrap{display:flex;justify-content:center;margin-top:20px;}
.table{
  width:360px;
  background:linear-gradient(#1a2f4a,#0b1c2d);
  border-radius:18px;
  padding:18px;
}
.cards{display:flex;justify-content:space-between;align-items:center;}
.card{
  width:135px;height:95px;
  border-radius:16px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  cursor:pointer;
}
.bet-amt{font-size:13px;margin-top:4px;color:#ffd56a;}
.dragon{background:#6a7bff;}
.tiger{background:#ffb04a;}
.tie{
  margin:14px auto 0;
  width:200px;height:70px;
  border-radius:16px;
  background:#2ecc71;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  cursor:pointer;
}
.chips{display:flex;justify-content:center;gap:10px;margin:18px auto;}
.chip{
  width:46px;height:46px;border-radius:50%;
  background:#ffd56a;color:#000;
  display:flex;align-items:center;justify-content:center;
  font-weight:bold;cursor:pointer;
}
.history{padding:10px;font-size:14px;}
</style>
</head>

<body>

<div class="game-header">
  <div class="header-arena">
    <img src="images/dragon.png">
    <div class="center-cards">
      <div class="play-card"></div>
      <div class="vs-text">VS</div>
      <div class="play-card"></div>
    </div>
    <img src="images/tiger.png">
  </div>
  <div class="bet-btn">START BETTING</div>
</div>

<div class="table-wrap">
  <div class="table">
    <div class="cards">
      <div class="card dragon">DRAGON<div class="bet-amt" id="dragonBet"></div></div>
      <div class="vs-text">VS</div>
      <div class="card tiger">TIGER<div class="bet-amt" id="tigerBet"></div></div>
    </div>
    <div class="tie">TIE<div class="bet-amt" id="tieBet"></div></div>
  </div>
</div>

<div class="chips">
  <div class="chip">10</div>
  <div class="chip">50</div>
  <div class="chip">100</div>
  <div class="chip">500</div>
  <div class="chip">1K</div>
</div>

<div class="history" id="betHistory"></div>

<script>
/* ========= FINAL DRAGON TIGER LOGIC ========= */

const cards=[
 {n:"A",v:1},{n:"2",v:2},{n:"3",v:3},{n:"4",v:4},
 {n:"5",v:5},{n:"6",v:6},{n:"7",v:7},{n:"8",v:8},
 {n:"9",v:9},{n:"10",v:10},{n:"J",v:11},{n:"Q",v:12},{n:"K",v:13}
];

let wallet=Number(localStorage.getItem("wallet"))||5000;
let time=15,interval;
let selectedAmount=0,betType=null;

const btn=document.querySelector(".bet-btn");
const topCards=document.querySelectorAll(".play-card");
const history=document.getElementById("betHistory");

/* ===== WALLET UI ===== */
const walletUI=document.createElement("div");
walletUI.style.cssText="position:fixed;bottom:12px;right:12px;background:#000;padding:8px 14px;border-radius:20px;font-weight:bold;";
document.body.appendChild(walletUI);
function updateWallet(){
 walletUI.innerText="ðŸ’° Wallet â‚¹"+wallet;
 localStorage.setItem("wallet",wallet);
}
updateWallet();

/* ===== CHIP SELECT ===== */
document.querySelectorAll(".chip").forEach(c=>{
 c.onclick=()=>{
  document.querySelectorAll(".chip").forEach(x=>x.style.outline="none");
  c.style.outline="3px solid #fff";
  selectedAmount=parseInt(c.innerText.replace("K","000"));
 };
});

/* ===== BET SELECT ===== */
function placeBet(type){
 if(time<=5||!selectedAmount)return;
 betType=type;
 ["dragon","tiger","tie"].forEach(x=>document.getElementById(x+"Bet").innerText="");
 document.getElementById(type+"Bet").innerText="â‚¹"+selectedAmount;
}
document.querySelector(".dragon").onclick=()=>placeBet("dragon");
document.querySelector(".tiger").onclick=()=>placeBet("tiger");
document.querySelector(".tie").onclick=()=>placeBet("tie");

/* ===== GAME ===== */
function draw(){return cards[Math.floor(Math.random()*cards.length)];}

function startRound(){
 clearInterval(interval);
 time=15;betType=null;
 document.querySelectorAll(".bet-amt").forEach(b=>b.innerText="");
 topCards.forEach(c=>{c.innerText="";c.style.transform="rotateY(0deg)";});

 interval=setInterval(()=>{
  time--;
  if(time>5) btn.innerText="START BETTING "+(time-5)+"s";
  else if(time>0) btn.innerText="BET LOCK "+time+"s";
  else{
   clearInterval(interval);
   showResult();
  }
 },1000);
}

function showResult(){
 const d=draw(),t=draw();
 topCards.forEach(c=>c.style.transform="rotateY(180deg)");
 setTimeout(()=>{
  topCards[0].innerText=d.n;
  topCards[1].innerText=t.n;
  topCards.forEach(c=>c.style.transform="rotateY(0deg)");
 },300);

 let win="tie";
 if(d.v>t.v) win="dragon";
 if(t.v>d.v) win="tiger";

 if(betType){
  wallet-=selectedAmount;
  if(betType===win) wallet+=win==="tie"?selectedAmount*9:selectedAmount*2;
  history.innerHTML+=`<div>${betType.toUpperCase()} â‚¹${selectedAmount} â†’ ${betType===win?"WIN":"LOSS"}</div>`;
 }

 updateWallet();
 btn.innerText=win.toUpperCase()+" WIN";
 setTimeout(startRound,3000);
}

startRound();
</script>

</body>
</html>
