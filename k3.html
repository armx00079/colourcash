<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>K3</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Arial;background:#0f0f0f;color:#fff}
.header{text-align:center;padding:15px;font-size:22px}
.card{background:#1c1c1c;margin:12px;border-radius:14px;padding:15px}
.timer{text-align:center;font-size:34px;color:#ff4d88}
.dice{display:flex;justify-content:center;gap:12px;margin:12px}
.dice div{width:55px;height:55px;background:#e53935;border-radius:10px;
display:flex;align-items:center;justify-content:center;font-size:22px;font-weight:bold}

input{width:100%;padding:12px;border:none;border-radius:10px;font-size:18px}
.actions{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:12px}
.btn{padding:14px;border-radius:12px;text-align:center;font-weight:bold;cursor:pointer}
.big{background:#f4a261}.small{background:#4dabf7}
.even{background:#4caf50}.odd{background:#e53935}

.numbers{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:12px}
.num{background:#2a2a2a;padding:14px;text-align:center;border-radius:10px;cursor:pointer}

.lock{filter:blur(3px);pointer-events:none}

.tabs{display:flex;gap:10px;margin:12px}
.tab{flex:1;background:#ff6f6f;padding:12px;border-radius:12px;
text-align:center;font-weight:bold;cursor:pointer}

table{width:100%;border-collapse:collapse}
th,td{padding:8px;border-bottom:1px solid #333;text-align:center}

.popup{
position:fixed;inset:0;background:rgba(0,0,0,.6);
display:none;align-items:center;justify-content:center;z-index:10}
.popup-box{
background:#1c1c1c;padding:20px;border-radius:14px;
width:80%;text-align:center}
.popup-box button{
margin-top:12px;padding:10px 20px;border:none;
border-radius:10px;background:#ff6f6f;color:#fff;font-size:16px}
</style>
</head>

<body>

<div class="header">ðŸŽ² K3</div>

<div class="card">
  <div id="info"></div>
  <div class="timer" id="timer"></div>
  <div class="dice" id="dice"></div>
</div>

<div class="card" id="betArea">
  <input id="amount" type="number" placeholder="Min â‚¹1">

  <div class="actions">
    <div class="btn big" onclick="bet('BIG')">BIG (11â€“18)</div>
    <div class="btn small" onclick="bet('SMALL')">SMALL (3â€“10)</div>
    <div class="btn even" onclick="bet('EVEN')">EVEN</div>
    <div class="btn odd" onclick="bet('ODD')">ODD</div>
  </div>

  <div class="numbers" id="numbers"></div>
</div>

<div class="tabs">
  <div class="tab" onclick="showGame()">Game History</div>
  <div class="tab" onclick="showBets()">My Bets</div>
</div>

<div class="card">
  <table id="table"></table>
</div>

<!-- POPUP -->
<div class="popup" id="popup">
  <div class="popup-box">
    <div id="popupText"></div>
    <button onclick="closePopup()">OK</button>
  </div>
</div>

<script>
const BASE_TIME = 1700000000000;
const BASE_PERIOD = 2026012000137;
let wallet = 100;
let bets=[];
let history=[];
let dice=[0,0,0];

function period(){
  return BASE_PERIOD + Math.floor((Date.now()-BASE_TIME)/30000);
}

function tick(){
  let remain = 30 - Math.floor((Date.now()-BASE_TIME)/1000)%30;
  document.getElementById("timer").innerText=remain+"s";
  document.getElementById("info").innerText=
    "Period: "+period()+" | Wallet: â‚¹"+wallet;

  if(remain<=5)
    document.getElementById("betArea").classList.add("lock");
  else
    document.getElementById("betArea").classList.remove("lock");

  if(remain===0){
    dice=[r(),r(),r()];
    let sum=dice[0]+dice[1]+dice[2];
    history.unshift({p:period(),s:sum,r:sum>=11?"BIG":"SMALL"});
    history=history.slice(0,10);
  }
  draw();
}

function r(){return Math.ceil(Math.random()*6)}

function draw(){
  document.getElementById("dice").innerHTML=
    `<div>${dice[0]||"?"}</div><div>${dice[1]||"?"}</div><div>${dice[2]||"?"}</div>`;
}

function bet(type){
  let amt=Number(amount.value);
  if(amt<1) return popup("Minimum bet â‚¹1");
  if(wallet<amt) return popup("Insufficient balance");
  wallet-=amt;
  bets.unshift({p:period(),b:type,a:amt});
  popup("Bet placed successfully");
}

function popup(t){
  popupText.innerText=t;
  popupEl.style.display="flex";
}
function closePopup(){popupEl.style.display="none"}

function showGame(){
  table.innerHTML="<tr><th>Period</th><th>Sum</th><th>Result</th></tr>";
  history.forEach(h=>{
    table.innerHTML+=`<tr><td>${h.p}</td><td>${h.s}</td><td>${h.r}</td></tr>`;
  });
}

function showBets(){
  table.innerHTML="<tr><th>Period</th><th>Bet</th><th>Amount</th></tr>";
  bets.forEach(b=>{
    table.innerHTML+=`<tr><td>${b.p}</td><td>${b.b}</td><td>â‚¹${b.a}</td></tr>`;
  });
}

let nums="";
for(let i=3;i<=18;i++)
 nums+=`<div class="num" onclick="bet(${i})">${i}</div>`;
numbers.innerHTML=nums;

setInterval(tick,1000);
</script>

</body>
</html>
