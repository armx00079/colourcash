<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GOD DEVIL DRAW</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{margin:0;background:#0b0b0b;font-family:Arial;color:#fff}
.container{max-width:420px;margin:auto;padding:15px}
.card{background:#1c1c1c;border-radius:16px;padding:20px;margin-bottom:15px;text-align:center}
h1{text-align:center}
.timer{font-size:22px;color:#ff4d4d}
.big{font-size:36px;margin:10px 0}
.row{display:flex;gap:10px;justify-content:center}
.box{flex:1;padding:18px;border-radius:12px;font-weight:bold}
.god{background:#2196f3}
.draw{background:#4caf50}
.devil{background:#ff5722}
input{width:100%;padding:12px;border-radius:10px;border:none;font-size:18px;margin-top:10px}
button{width:100%;padding:14px;border:none;border-radius:12px;font-size:18px;margin-top:10px}
.primary{background:#2196f3;color:#fff}
.disabled{opacity:.4}
.list{background:#151515;border-radius:12px;padding:10px;margin-top:10px;text-align:left;font-size:14px}
.popup{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center}
.popup div{background:#222;padding:20px;border-radius:14px}
.flip{animation:flip .6s}
@keyframes flip{0%{transform:rotateY(0)}50%{transform:rotateY(90deg)}100%{transform:rotateY(0)}}
</style>
</head>
<body>

<div class="container">
<h1>ðŸ‘‘ GOD â€¢ DEVIL â€¢ DRAW</h1>

<div class="card">
<div id="info"></div>
<div class="timer" id="timer"></div>
<div class="big" id="state"></div>

<div class="row">
<div class="box god" id="godCard">GOD</div>
<div class="box draw">DRAW</div>
<div class="box devil" id="devilCard">DEVIL</div>
</div>
</div>

<div class="card">
<input id="amount" type="number" min="1" value="1">
<div class="row">
<button class="god" onclick="select('GOD')">GOD</button>
<button class="draw" onclick="select('DRAW')">DRAW</button>
<button class="devil" onclick="select('DEVIL')">DEVIL</button>
</div>
<button id="betBtn" class="primary" onclick="placeBet()">PLACE BET</button>
</div>

<div class="list">
<b>Last 10 Games</b>
<div id="last10"></div>
</div>

<div class="list">
<b>My Bets</b>
<div id="mybets"></div>
</div>
</div>

<div class="popup" id="popup"><div id="popText"></div></div>

<script>
const CARDS=["A","K","Q","J",10,9,8,7,6,5,4,3,2];
let data=JSON.parse(localStorage.getItem("gdd"))||{
wallet:100,period:Date.now(),phase:"BET",start:Date.now(),
bets:[],last10:[],mybets:[]
};
let selected=null,locked=false;

function save(){localStorage.setItem("gdd",JSON.stringify(data))}
function showPopup(t){
popText.innerHTML=t;
popup.style.display="flex";
setTimeout(()=>popup.style.display="none",2000);
}

function select(x){selected=x}

function placeBet(){
if(locked||!selected)return;
let amt=+amount.value;
if(amt>data.wallet)return alert("Low balance");
data.wallet-=amt;
data.bets.push({side:selected,amt});
data.mybets.unshift(`P${data.period} | ${selected} | â‚¹${amt}`);
save();
showPopup("Bet Placed");
}

function randomCard(){return CARDS[Math.floor(Math.random()*CARDS.length)]}

function value(c){
if(c==="A")return 14;
if(c==="K")return 13;
if(c==="Q")return 12;
if(c==="J")return 11;
return c;
}

function resolve(){
let g=randomCard(),d=randomCard();
godCard.innerText=g;
devilCard.innerText=d;
godCard.classList.add("flip");
devilCard.classList.add("flip");

let res="DRAW";
if(value(g)>value(d))res="GOD";
if(value(d)>value(g))res="DEVIL";

data.bets.forEach(b=>{
if(b.side===res){
let win=b.amt*2;
data.wallet+=win;
showPopup("WIN â‚¹"+win);
}else{
showPopup("LOSS");
}
});
data.last10.unshift(`#${data.period} â†’ ${res}`);
data.last10=data.last10.slice(0,10);
data.bets=[];
data.period++;
save();
}

function tick(){
let now=Date.now();
let diff=30-Math.floor((now-data.start)/1000);
timer.innerText=diff+"s";
info.innerText=`Period: ${data.period} | Wallet: â‚¹${data.wallet.toFixed(2)}`;

if(diff<=5 && diff>0){
locked=true;
betBtn.classList.add("disabled");
state.innerText="LOCKED";
}
if(diff<=0){
state.innerText="RESULT";
resolve();
data.start=Date.now();
locked=false;
betBtn.classList.remove("disabled");
}
save();
render();
}

function render(){
last10.innerHTML=data.last10.join("<br>");
mybets.innerHTML=data.mybets.join("<br>");
}

setInterval(tick,1000);
render();
</script>

</body>
</html>
