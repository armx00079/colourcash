<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>GOD DEVIL DRAW</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{margin:0;background:#0b0b0b;color:#fff;font-family:Arial}
.wrap{max-width:420px;margin:auto;padding:14px}
.card{background:#1b1b1b;border-radius:16px;padding:18px;margin-bottom:14px;text-align:center}
h2{text-align:center}
.timer{color:#ff5252;font-size:22px}
.big{font-size:34px;margin:8px 0}
.row{display:flex;gap:10px}
.btn{flex:1;padding:14px;border-radius:12px;font-weight:bold}
.god{background:#2196f3}
.draw{background:#4caf50}
.devil{background:#ff5722}
input{width:100%;padding:12px;border-radius:10px;border:none;font-size:18px}
button{width:100%;padding:14px;border:none;border-radius:12px;font-size:18px;margin-top:10px}
.primary{background:#2196f3;color:#fff}
.list{background:#151515;border-radius:12px;padding:10px;margin-top:10px;font-size:14px;text-align:left}
.popup{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center}
.popup div{background:#222;padding:18px;border-radius:14px}
.flip{animation:flip .6s}
@keyframes flip{0%{transform:rotateY(0)}50%{transform:rotateY(90deg)}100%{transform:rotateY(0)}}
</style>
</head>

<body>
<div class="wrap">

<h2>ðŸ‘‘ GOD â€¢ DEVIL â€¢ DRAW</h2>

<div class="card">
<div id="info"></div>
<div class="timer" id="timer"></div>
<div class="big" id="phaseText"></div>

<div class="row">
<div class="btn god" id="godCard">GOD</div>
<div class="btn draw">DRAW</div>
<div class="btn devil" id="devilCard">DEVIL</div>
</div>
</div>

<div class="card">
<input id="amount" type="number" min="1" value="1">
<div class="row">
<button class="god" onclick="select('GOD')">GOD</button>
<button class="draw" onclick="select('DRAW')">DRAW</button>
<button class="devil" onclick="select('DEVIL')">DEVIL</button>
</div>
<button class="primary" onclick="placeBet()">PLACE BET</button>
</div>

<div class="list"><b>Last 10 Games</b><div id="last10"></div></div>
<div class="list"><b>My Bets</b><div id="mybets"></div></div>

</div>

<div class="popup" id="popup"><div id="popText"></div></div>

<script>
const CARDS=["A","K","Q","J",10,9,8,7,6,5,4,3,2];

let game=JSON.parse(localStorage.getItem("gdd_fix"));
if(!game){
game={
wallet:100,
period:1000,
phase:"BET",
phaseStart:Date.now(),
bets:[],
last10:[],
mybets:[]
};
}

let selected=null;

function save(){localStorage.setItem("gdd_fix",JSON.stringify(game))}

function popup(t){
popText.innerHTML=t;
popupBox.style.display="flex";
setTimeout(()=>popupBox.style.display="none",1800);
}

function select(s){selected=s}

function placeBet(){
if(game.phase!=="BET")return;
if(!selected)return;
let amt=+amount.value;
if(amt>game.wallet)return alert("Low balance");
game.wallet-=amt;
game.bets.push({side:selected,amt});
game.mybets.unshift(`P${game.period} | ${selected} | â‚¹${amt}`);
save();
showPopup("Bet Placed");
}

function rand(){return CARDS[Math.floor(Math.random()*CARDS.length)]}
function val(c){if(c==="A")return 14;if(c==="K")return 13;if(c==="Q")return 12;if(c==="J")return 11;return c}

function resolve(){
let g=rand(),d=rand();
godCard.innerText=g;
devilCard.innerText=d;
godCard.classList.add("flip");
devilCard.classList.add("flip");

let result="DRAW";
if(val(g)>val(d))result="GOD";
if(val(d)>val(g))result="DEVIL";

game.bets.forEach(b=>{
if(b.side===result){
let win=b.amt*2;
game.wallet+=win;
showPopup("WIN â‚¹"+win);
}else{
showPopup("LOSS");
}
});

game.last10.unshift(`#${game.period} â†’ ${result}`);
game.last10=game.last10.slice(0,10);
game.bets=[];
game.period++;
game.phase="BET";
game.phaseStart=Date.now();
save();
}

function loop(){
let now=Date.now();
let elapsed=Math.floor((now-game.phaseStart)/1000);

if(game.phase==="BET"){
let left=30-elapsed;
phaseText.innerText="BET NOW";
timer.innerText=left+"s";
if(left<=0){
game.phase="LOCK";
game.phaseStart=now;
}
}

else if(game.phase==="LOCK"){
let left=5-elapsed;
phaseText.innerText="LOCKED";
timer.innerText=left+"s";
if(left<=0){
game.phase="RESULT";
game.phaseStart=now;
}
}

else if(game.phase==="RESULT"){
phaseText.innerText="RESULT";
timer.innerText="";
resolve();
}

info.innerText=`Period: ${game.period} | Wallet: â‚¹${game.wallet.toFixed(2)}`;
last10.innerHTML=game.last10.join("<br>");
mybets.innerHTML=game.mybets.join("<br>");
save();
}

const popupBox=document.getElementById("popup");
setInterval(loop,1000);
</script>

</body>
</html>
