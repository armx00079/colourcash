<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Aviator</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0b0b0b;
  color:#fff;
}

/* HEADER */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px;
  background:#111;
}
.header .logo{
  font-size:26px;
  font-weight:bold;
  color:#ff1744;
}
.header .balance{
  font-size:18px;
  color:#00e676;
}

/* LAST CRASH */
.history{
  display:flex;
  gap:10px;
  padding:10px;
  overflow-x:auto;
  background:#0f0f0f;
}
.history span{
  font-size:14px;
  white-space:nowrap;
}
.low{color:#64b5f6}
.mid{color:#00e676}
.high{color:#e040fb}

/* GAME */
.game{
  position:relative;
  height:42vh;
  background:radial-gradient(circle at bottom,#1a1a1a,#000);
  overflow:hidden;
}
.graph{
  position:absolute;
  inset:0;
  background:linear-gradient(135deg,transparent 60%,rgba(255,0,0,.25));
}
.multiplier{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:64px;
  font-weight:bold;
  color:#fff;
  text-shadow:0 0 15px rgba(255,255,255,.3);
}
.crashed{
  color:#ff5252;
}

/* CONTROLS */
.controls{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
  padding:12px;
}
.betbox{
  background:#151515;
  border-radius:14px;
  padding:12px;
}
.row{
  display:flex;
  gap:8px;
  margin-bottom:8px;
}
input{
  flex:1;
  padding:10px;
  border:none;
  border-radius:8px;
  font-size:16px;
  text-align:center;
}
.btn{
  flex:1;
  padding:10px;
  border:none;
  border-radius:8px;
  font-weight:bold;
  font-size:16px;
}
.green{background:#2ecc71;color:#000}
.blue{background:#2196f3;color:#fff}
.gray{background:#333;color:#fff}

/* STATUS */
.status{
  text-align:center;
  padding:10px;
  color:#aaa;
}
</style>
</head>

<body>

<div class="header">
  <div class="logo">Aviator</div>
  <div class="balance">3000</div>
</div>

<div class="history" id="history"></div>

<div class="game">
  <div class="graph"></div>
  <div class="multiplier" id="multi">WAITING</div>
</div>

<div class="controls">
  <!-- BET 1 -->
  <div class="betbox">
    <div class="row">
      <button class="btn gray" onclick="changeAmt(1,-1)">-</button>
      <input id="amt1" value="1">
      <button class="btn gray" onclick="changeAmt(1,1)">+</button>
    </div>
    <div class="row">
      <button class="btn gray" onclick="quick(1,1)">1</button>
      <button class="btn gray" onclick="quick(1,2)">2</button>
      <button class="btn gray" onclick="quick(1,5)">5</button>
      <button class="btn gray" onclick="quick(1,10)">10</button>
    </div>
    <button class="btn green" onclick="bet(1)" id="btn1">BET</button>
  </div>

  <!-- BET 2 -->
  <div class="betbox">
    <div class="row">
      <button class="btn gray" onclick="changeAmt(2,-1)">-</button>
      <input id="amt2" value="1">
      <button class="btn gray" onclick="changeAmt(2,1)">+</button>
    </div>
    <div class="row">
      <button class="btn gray" onclick="quick(2,1)">1</button>
      <button class="btn gray" onclick="quick(2,2)">2</button>
      <button class="btn gray" onclick="quick(2,5)">5</button>
      <button class="btn gray" onclick="quick(2,10)">10</button>
    </div>
    <button class="btn green" onclick="bet(2)" id="btn2">BET</button>
  </div>
</div>

<div class="status" id="status">Next round starting…</div>

<script>
let state="WAIT";
let multi=1;
let crash=0;
let timer=null;
let history=[];
let activeBet=[false,false];

const multiEl=document.getElementById("multi");
const histEl=document.getElementById("history");
const statusEl=document.getElementById("status");

function randomCrash(){
  let r=Math.random();
  if(r<0.55) return +(1+Math.random()*1.5).toFixed(2);
  if(r<0.85) return +(2+Math.random()*3).toFixed(2);
  return +(5+Math.random()*20).toFixed(2);
}

function renderHistory(){
  histEl.innerHTML="";
  history.forEach(x=>{
    let s=document.createElement("span");
    s.innerText=x+"x";
    s.className=x<2?"low":x<10?"mid":"high";
    histEl.appendChild(s);
  });
}

function startRound(){
  state="FLY";
  multi=1;
  crash=randomCrash();
  multiEl.classList.remove("crashed");
  statusEl.innerText="Flying…";

  timer=setInterval(()=>{
    multi+=0.01+multi*0.003;
    multi=+multi.toFixed(2);
    multiEl.innerText=multi+"x";

    if(multi>=crash){
      endRound();
    }
  },60);
}

function endRound(){
  clearInterval(timer);
  state="CRASH";
  multiEl.innerText="CRASHED @ "+crash+"x";
  multiEl.classList.add("crashed");
  statusEl.innerText="Crashed";

  history.unshift(crash);
  history=history.slice(0,10);
  renderHistory();

  activeBet=[false,false];
  btn1.innerText="BET";
  btn2.innerText="BET";

  setTimeout(()=>{
    multiEl.innerText="WAITING";
    statusEl.innerText="Next round starting…";
    state="WAIT";
  },3000);
}

function bet(n){
  if(state==="WAIT"){
    activeBet[n-1]=true;
    document.getElementById("btn"+n).innerText="CASH OUT";
    if(activeBet.includes(true)) startRound();
  }else if(state==="FLY" && activeBet[n-1]){
    activeBet[n-1]=false;
    document.getElementById("btn"+n).innerText="BET";
  }
}

function changeAmt(n,v){
  let i=document.getElementById("amt"+n);
  i.value=Math.max(1,Number(i.value)+v);
}
function quick(n,v){
  document.getElementById("amt"+n).value=v;
}
</script>

</body>
</html>
